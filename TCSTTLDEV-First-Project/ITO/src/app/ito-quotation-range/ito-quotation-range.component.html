<div class="container">

  <h1>Quotations</h1>
  <p-table #dt [columns]="cols" [value]="quotations" [paginator]="true" [rows]="10">
      <ng-template pTemplate="caption">
          <div class="ui-helper-clearfix">
              <!-- <button type="button" pButton (click)="newCostEstimation()" style="float:right ;background-color:white; color:green ;padding:8px; border:1px solid green; margin:25px;margin-top:0px;"><i class="fa fa-inr"></i>&nbsp;&nbsp;New Cost Estimation</button> -->
              <button type="button" pButton  label="All Data" (click)="exportPDF(dt)" style="float:right ;background-color:white; color:rgb(213,120,23) ; margin:25px;margin-top:0px;padding:8px; border:1px solid rgb(213,120,23);"><i class="fa fa-file-pdf-o"></i>&nbsp;&nbsp;Export to PDF</button>
              <button type="button" pButton label="All Data" (click)="dt.exportCSV()" style="float:right ;background-color:white; color:rgb(213,120,23) ; margin:25px;margin-top:0px;padding:8px; border:1px solid rgb(213,120,23);"><i class="fa fa-file-excel-o"></i>&nbsp;&nbsp;Export to Excel</button>
              <label class="labelStyl" style="float:left;  color:rgb(213,120,23) ;  margin-top:0px; font-weight: bold; font-size:25px;">Filter: </label> 
             <select   (change)="onChange($event.target.value)" style="float:left; background-color:white; color:rgb(213,120,23) ; margin:25px;margin-top:0px;padding:8px; border:1px solid rgb(213,120,23);">
              <option class="regionOpt" [ngValue]="col"  [selected]="col.defaultValue"  *ngFor="let col of columnsVal">{{col.text}}</option>
              </select>

          </div>
      </ng-template>
      <ng-template pTemplate="header" let-columns>
          <tr>
              <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                  {{col.header}}
                  <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" 
                  ariaLabelDesc="Activate to sort in descending order" 
                  ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
              </th>
          </tr>
          <tr>
           
              <th class="secondHeader" *ngFor="let col of columns" [ngSwitch]="col.field">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'quotNumber'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'custName'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'statusName'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'frameName'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'capacity'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'modifyDate'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                  <input class="localIp" placeholder="Search here.." *ngSwitchCase="'assignedTo'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
              </th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr class="datarow" [pSelectableRow]="rowData">
              <td *ngFor="let col of columns" [class.selected]="rowData === selectedMyQuot" (click)="navigatetoNext(rowData)">
                  {{rowData[col.field]}}
              </td>
            </tr>
      </ng-template>
  </p-table>

  <p-dialog header="Assign to" [(visible)]="display" [modal]="true" [responsive]="true" [width]="500"
   [minWidth]="200" [minY]="70" [maximizable]="true" [baseZIndex]="10000" [style]="{'background-color': 'white', 'padding-top':'10px'}">
  <input type="text" class="inpStyl" list="users" ngModel name="userName" placeholder="Type User Name"/>
    <datalist id="users" style="height:100px">
      <option class="list" *ngFor="let user of users" >{{user.empName}} </option><hr>
  </datalist>
  <p-footer>
        <button type="button" pButton class="fa fa-close" (click)="display=false" label="No" class="ui-button-secondary">Assign</button>
    </p-footer>
  </p-dialog>
</div>
